<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map and Form App</title>
  <!-- Include Mapbox CSS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
  <!-- Link to external CSS file -->
  <link rel="stylesheet" href="styles.css">
  <!-- Include Google Places API -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwHozpYoJS8xgURnkkICo7L0vw8xW2Oak&libraries=places"></script>
</head>
<body>
  <div class="container">
    <div class="form-container">
      <h2>Store Discount Form</h2>
      <form>
        <label for="autocomplete">Store Location:</label>
        <input type="text" id="autocomplete" name="store-location" placeholder="Enter a location" required>
        
        <label for="select"> Discount Type: </label>
        <select name="question" id="select-discount">
            <option value="q1"> Specific Percentage </option>
            <option value="q2"> Buy One Get One Free </option>
            <option value="q3"> Get One $5 Off </option>
        </select>

        <label for="discount">Discount (%):</label>
        <input type="number" id="discount" name="discount" placeholder="Enter discount percentage" required>

        <button type="submit">Submit</button>
      </form>

      <!-- Display coordinates -->
      <div id="coordinates" style="margin-top: 20px;"></div>
    </div>
    <div id="map"></div>
  </div>

  <!-- Include Mapbox JS -->
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
  <!-- Link to external JS file -->
  <script src="script.js"></script>
  
  <script>
    // Initialize Google Places Autocomplete
    function initAutocomplete() {
      const input = document.getElementById('autocomplete');
      const autocomplete = new google.maps.places.Autocomplete(input);

      autocomplete.addListener('place_changed', function() {
        const place = autocomplete.getPlace();
        
        if (place.geometry && place.geometry.location) {
          const lat = place.geometry.location.lat();
          const lng = place.geometry.location.lng();
          // Display coordinates
          document.getElementById('coordinates').innerHTML = 
            `<p>Latitude: ${lat}</p><p>Longitude: ${lng}</p>`;
          
          console.log('Coordinates:', { lat, lng });
        } else {
          console.log('No coordinates found for this place');
        }
      });
    }

    window.addEventListener('load', initAutocomplete);
  </script>
</body>
</html>
